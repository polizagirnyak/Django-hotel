{% extends 'service/base.html' %}
{% load static %}

{% block title %}{{ title }}{% endblock %}

{% block content %}
<div class="container-fluid py-4">
    <div class="row justify-content-center">
        <div class="col-md-8 col-lg-6">
            <div class="card shadow">
                <div class="card-header bg-white py-3">
                    <div class="d-flex justify-content-between align-items-center">
                        <h5 class="mb-0">{{ title }}</h5>
                        <a href="{% url 'service_categories' %}" class="btn btn-sm btn-outline-secondary">
                            <i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥
                        </a>
                    </div>
                </div>
                <div class="card-body">
                    <form method="post" novalidate>
                        {% csrf_token %}

                        {% if form.non_field_errors %}
                        <div class="alert alert-danger">
                            {% for error in form.non_field_errors %}
                            {{ error }}
                            {% endfor %}
                        </div>
                        {% endif %}

                        <div class="mb-3">
                            <label for="{{ form.name.id_for_label }}" class="form-label">
                                –ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ *
                            </label>
                            {{ form.name }}
                            {% if form.name.errors %}
                            <div class="invalid-feedback d-block">
                                {{ form.name.errors }}
                            </div>
                            {% endif %}
                            <small class="form-text text-muted">
                                –ù–∞–ø—Ä–∏–º–µ—Ä: –°–ü–ê –ø—Ä–æ—Ü–µ–¥—É—Ä—ã, –†–µ—Å—Ç–æ—Ä–∞–Ω, –≠–∫—Å–∫—É—Ä—Å–∏–∏
                            </small>
                        </div>

                        <div class="mb-3">
                            <label for="{{ form.icon.id_for_label }}" class="form-label">
                                –ò–∫–æ–Ω–∫–∞ (Emoji)
                            </label>
                            <div class="input-group">
                                {{ form.icon }}
                                <button type="button" class="btn btn-outline-secondary"
                                        onclick="document.getElementById('{{ form.icon.id_for_label }}').value = '‚ú®'">
                                    ‚ú®
                                </button>
                                <button type="button" class="btn btn-outline-secondary"
                                        onclick="document.getElementById('{{ form.icon.id_for_label }}').value = 'üíÜ'">
                                    üíÜ
                                </button>
                                <button type="button" class="btn btn-outline-secondary"
                                        onclick="document.getElementById('{{ form.icon.id_for_label }}').value = 'üçΩÔ∏è'">
                                    üçΩÔ∏è
                                </button>
                                <button type="button" class="btn btn-outline-secondary"
                                        onclick="document.getElementById('{{ form.icon.id_for_label }}').value = 'üèä'">
                                    üèä
                                </button>
                            </div>
                            {% if form.icon.errors %}
                            <div class="invalid-feedback d-block">
                                {{ form.icon.errors }}
                            </div>
                            {% endif %}
                            <small class="form-text text-muted">
                                –í—ã–±–µ—Ä–∏—Ç–µ emoji-–∏–∫–æ–Ω–∫—É –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
                            </small>
                        </div>

                        <div class="mb-3">
                            <label for="{{ form.description.id_for_label }}" class="form-label">
                                –û–ø–∏—Å–∞–Ω–∏–µ
                            </label>
                            {{ form.description }}
                            {% if form.description.errors %}
                            <div class="invalid-feedback d-block">
                                {{ form.description.errors }}
                            </div>
                            {% endif %}
                        </div>

                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <div class="form-check">
                                    {{ form.is_active }}
                                    <label class="form-check-label" for="{{ form.is_active.id_for_label }}">
                                        –ê–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="{{ form.order.id_for_label }}" class="form-label">
                                    –ü–æ—Ä—è–¥–æ–∫ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
                                </label>
                                {{ form.order }}
                                {% if form.order.errors %}
                                <div class="invalid-feedback d-block">
                                    {{ form.order.errors }}
                                </div>
                                {% endif %}
                            </div>
                        </div>

                        <div class="d-flex justify-content-between mt-4">
                            <a href="{% url 'service_categories' %}" class="btn btn-secondary">
                                –û—Ç–º–µ–Ω–∞
                            </a>
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-save"></i> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .form-control, .form-select {
        border-radius: 8px;
        border: 1px solid #dee2e6;
        padding: 0.75rem;
    }

    .form-control:focus, .form-select:focus {
        border-color: #667eea;
        box-shadow: 0 0 0 0.2rem rgba(102, 126, 234, 0.25);
    }

    .form-label {
        font-weight: 600;
        color: #495057;
        margin-bottom: 0.5rem;
    }

    .form-check-input:checked {
        background-color: #667eea;
        border-color: #667eea;
    }

    .alert {
        border-radius: 8px;
    }

    .input-group .btn {
        padding: 0.5rem 0.75rem;
    }
</style>

<script>
    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å—ã –∫ –ø–æ–ª—è–º —Ñ–æ—Ä–º—ã
    document.addEventListener('DOMContentLoaded', function() {
        const inputs = document.querySelectorAll('input[type="text"], input[type="number"], textarea, select');
        inputs.forEach(input => {
            input.classList.add('form-control');
        });

        // –î–ª—è checkbox
        const checkboxes = document.querySelectorAll('input[type="checkbox"]');
        checkboxes.forEach(checkbox => {
            checkbox.classList.add('form-check-input');
        });
    });
</script>
{% endblock %}